<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>MADHOUSE ADVENTSKALENDER</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google-Fonts: Ã¤hnlich wie beim MyAdvent-Design -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700&family=Dancing+Script:wght@500;600&display=swap"
    rel="stylesheet"
  >

  <style>
    :root {
      --door-main: #E05D47;          /* MyAdvent-Hellrot */
      --door-locked: #b44834;        /* etwas dunkler fÃ¼r gesperrte Tage */
      --door-text: #ffffff;
      --overlay-bg: rgba(0, 0, 0, 0.75);
      --panel-bg: rgba(5, 10, 20, 0.95);
      --accent: #ffd166;
      --text: #f8f9fa;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: var(--text);

      /* dein Hintergrundbild */
      background-image: url("background.jpg");
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      min-height: 100vh;
    }

    .page-overlay {
      min-height: 100vh;
      background: radial-gradient(
        circle at top,
        rgba(0, 0, 0, 0.3),
        rgba(0, 0, 0, 0.8)
      );
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    header {
      text-align: center;
      padding: 1.5rem 1rem 0.5rem;
    }

    .title-box {
      display: inline-block;
      padding: 0.9rem 2.4rem 0.7rem;
      border-radius: 0.8rem;
      background: rgba(110, 103, 148, 0.9); /* lila wie beim MyAdvent-Banner */
      border: 2px dashed rgba(255, 255, 255, 0.85);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.7);
    }

    .title-main {
      margin: 0;
      font-family: "Fredoka", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      font-size: clamp(1.8rem, 3.4vw, 2.6rem);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      text-align: center;
    }

    .title-sub {
      margin: 0.25rem 0 0;
      font-family: "Dancing Script", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", cursive;
      font-size: clamp(1.1rem, 2.1vw, 1.4rem);
      text-align: center;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.2rem 1rem 2rem;
    }

    .calendar {
      width: 100%;
      max-width: 760px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 0.7rem;
      width: 100%;
      padding: 0.75rem;
    }

    @media (max-width: 700px) {
      .calendar-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    @media (max-width: 480px) {
      .calendar-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .door {
      border-radius: 0;             /* rechteckig */
      border: none;
      padding: 0.9rem 0.4rem;
      cursor: pointer;
      font-size: clamp(1rem, 2.6vw, 1.3rem);
      font-weight: 700;
      color: var(--door-text);
      background: var(--door-main);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.7);
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        background 0.18s ease, opacity 0.18s ease;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
    }

    .door-openable {
      background: var(--door-main);
    }

    .door-openable:hover {
      transform: translateY(-2px);
      box-shadow: 0 9px 18px rgba(0, 0, 0, 0.85);
    }

    .door-openable:active {
      transform: translateY(1px);
      box-shadow: 0 4px 9px rgba(0, 0, 0, 0.6);
    }

    .door-locked {
      background: var(--door-locked);
      opacity: 0.75;
    }

    .door-locked:disabled {
      cursor: not-allowed;
    }

    /* Kein Footer-Text mehr â€“ darum kein footer-Styling */

    /* MODAL / INHALTSFENSTER */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: var(--overlay-bg);
      z-index: 20;
      padding: 1rem;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      position: relative;
      width: 100%;
      max-width: 720px;
      max-height: 90vh;
      overflow-y: auto;
      background: var(--panel-bg);
      border-radius: 1.2rem;
      padding: 1.25rem 1.3rem 1.6rem;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.9);
    }

    .modal h2 {
      margin: 0 0 0.7rem;
      font-size: clamp(1.4rem, 2.4vw, 1.7rem);
      color: var(--accent);
    }

    .modal p {
      margin-top: 0;
      line-height: 1.5;
      font-size: 0.98rem;
    }

    .close-button {
      position: absolute;
      top: 0.1rem;
      right: 0.7rem;
      border: none;
      background: none;
      color: var(--text);
      font-size: 1.8rem;
      cursor: pointer;
    }

    .content-media {
      margin-top: 1rem;
      display: none;
      justify-content: center;
    }

    .content-media.visible {
      display: flex;
    }

    .content-media img,
    .content-media video,
    .content-media iframe {
      max-width: 100%;
      border-radius: 0.8rem;
      max-height: 420px;
    }

    .content-media audio {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="page-overlay">
    <header>
      <div class="title-box">
        <h1 class="title-main">Madhouse Adventskalender</h1>
        <p class="title-sub">Made by Eltern</p>
      </div>
    </header>

    <main>
      <section class="calendar">
        <div id="calendar-grid" class="calendar-grid"></div>
      </section>
    </main>
  </div>

  <!-- MODAL fÃ¼r Inhalte -->
  <div id="modal-backdrop" class="modal-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="content-title">
      <button id="close-button" class="close-button" aria-label="SchlieÃŸen">Ã—</button>
      <h2 id="content-title"></h2>
      <p id="content-text"></p>

      <div id="image-wrapper" class="content-media">
        <img id="content-image" alt="" />
      </div>

      <div id="audio-wrapper" class="content-media">
        <audio id="content-audio" controls></audio>
      </div>

      <div id="video-wrapper" class="content-media">
        <video id="content-video" controls></video>
      </div>

      <div id="youtube-wrapper" class="content-media">
        <iframe
          id="content-youtube"
          src=""
          frameborder="0"
          allowfullscreen
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        ></iframe>
      </div>
    </div>
  </div>

  <script>
    /*
      HIER TRAGST DU DEINE INHALTE EIN:

      FÃ¼r jeden Tag (1â€“24) kannst du beliebige Kombinationen nutzen:

      title: Ãœberschrift (optional)
      text: Text / Botschaft / Aufgabe
      image: Bild-URL (z.B. "bilder/tag1.jpg" oder "https://.../bild.jpg")
      imageAlt: Alternativtext fÃ¼rs Bild
      audio: Audio-Datei (z.B. "audio/tag1.mp3")
      video: Video-Datei (z.B. "video/tag1.mp4")
      youtube: YouTube-Link ("https://www.youtube.com/watch?v=...")

      Beispiel-Kombinationen:
      - nur Text          â†’ { text: "..." }
      - Text + Bild       â†’ { text: "...", image: "bilder/...", imageAlt: "..." }
      - nur Audio         â†’ { audio: "audio/..." }
      - Audio + Text      â†’ { text: "...", audio: "audio/..." }
      - Video + Text      â†’ { text: "...", video: "video/..." }
      - YouTube + Text    â†’ { text: "...", youtube: "https://youtube..." }
    */

   const adventContent = {
  1: {
    title: "1. Dezember ðŸŽ…",
    text: "Heute startet der MADHOUSE Adventskalender! Heute Abend machen wir es uns gemeinsam gemÃ¼tlich â€“ mit Kerzenlicht und vielleicht einer heiÃŸen Schokolade.",
    // Hier kÃ¶nnt ihr z.B. ein Familienfoto einbinden:
    // image: "bilder/tag01_familie.jpg",
    // imageAlt: "Familienfoto"
  },
  2: {
    title: "2. Dezember â„ï¸",
    text: "Heute gibt es eine kleine Ãœberraschung in der KÃ¼che. Schau nach dem Abendessen nach â€“ irgendwo hat sich etwas Leckeres versteckt."
  },
  3: {
    title: "3. Dezember âœ¨",
    text: "Heute malen wir gemeinsam ein Winterbild. Du darfst entscheiden: Schneemann, Haus im Schnee oder unsere Familie im Winterland.",
    // image: "bilder/tag03_kunstwerk.jpg",
    // imageAlt: "Euer Winterbild"
  },
  4: {
    title: "4. Dezember ðŸŽ§",
    text: "Heute erzÃ¤hlt Mama oder Papa eine kleine Gute-Nacht-Geschichte â€“ vielleicht Ã¼ber Elfen, Rentiere oder magische Schneeflocken.",
    // audio: "audio/tag04_geschichte.mp3"
  },
  5: {
    title: "5. Dezember ðŸ•¯",
    text: "Heute zÃ¼nden wir gemeinsam eine Kerze an und nennen nacheinander Dinge, fÃ¼r die wir dankbar sind. Jeder kommt mindestens einmal dran."
  },
  6: {
    title: "6. Dezember â€“ Nikolaus ðŸŽ",
    text: "Schau heute Morgen oder Abend ganz genau in deine Schuheâ€¦ Vielleicht war jemand mit roter MÃ¼tze da. ðŸ˜‰",
    // image: "bilder/tag06_schuhe.jpg",
    // imageAlt: "Nikolaus-Stiefel"
  },
  7: {
    title: "7. Dezember ðŸŽ¬",
    text: "Heute ist Filmabend! Du darfst einen Weihnachts- oder Winterfilm vorschlagen. Popcorn ist ausdrÃ¼cklich erlaubt.",
    // video: "video/tag07_familiengruss.mp4"
  },
  8: {
    title: "8. Dezember â˜•",
    text: "Heute probieren wir ein warmes WintergetrÃ¤nk aus: Kakao, Tee oder etwas anderes â€“ du darfst mitentscheiden, was es gibt."
  },
  9: {
    title: "9. Dezember ðŸ“¸",
    text: "Heute machen wir ein lustiges Winter-Foto-Shooting: verrÃ¼ckte Posen, MÃ¼tzen, Schals â€“ alles ist erlaubt.",
    // image: "bilder/tag09_fotoshooting.jpg",
    // imageAlt: "Lustiges Familienfoto"
  },
  10: {
    title: "10. Dezember â­",
    text: "Heute basteln wir zusammen etwas Kleines fÃ¼r jemand anderen: eine Karte, ein Bild oder eine kleine Ãœberraschung.",
    // image: "bilder/tag10_basteln.jpg"
  },
  11: {
    title: "11. Dezember ðŸŽµ",
    text: "Heute suchen wir ein Winter- oder Weihnachtslied aus und hÃ¶ren oder singen es gemeinsam.",
    // audio: "audio/tag11_lied.mp3"
  },
  12: {
    title: "12. Dezember ðŸª",
    text: "Heute wird gebacken! PlÃ¤tzchen, Muffins oder etwas anderes SÃ¼ÃŸes. Du darfst die Ausstechformen oder Deko aussuchen.",
    // image: "bilder/tag12_plaetzchen.jpg"
  },
  13: {
    title: "13. Dezember ðŸ’Œ",
    text: "Heute schreiben oder malen wir jemandem eine kleine Karte: Oma, Opa, Freunde oder jemand, der sich besonders darÃ¼ber freut."
  },
  14: {
    title: "14. Dezember ðŸ§£",
    text: "Heute machen wir es uns extra gemÃ¼tlich: Decken, Kissen, vielleicht ein HÃ¶rspiel oder ein gemeinsames Buch.",
    // audio: "audio/tag14_hoerspiel.mp3"
  },
  15: {
    title: "15. Dezember ðŸŽ²",
    text: "Heute ist Spielezeit! Wir spielen gemeinsam ein Brettspiel oder Kartenspiel â€“ du darfst aussuchen, welches."
  },
  16: {
    title: "16. Dezember ðŸŽ¨",
    text: "Heute gestalten wir etwas fÃ¼r unser Zuhause: vielleicht ein kleines Schild, einen Stern oder eine Girlande zum AufhÃ¤ngen.",
    // image: "bilder/tag16_deko.jpg"
  },
  17: {
    title: "17. Dezember ðŸŽ§ & ðŸ“–",
    text: "Heute gibt es eine vorgelesene Geschichte. Wenn du mÃ¶chtest, nehmen wir sie sogar auf, damit du sie spÃ¤ter nochmal hÃ¶ren kannst.",
    // audio: "audio/tag17_vorlesegeschichte.mp3"
  },
  18: {
    title: "18. Dezember ðŸŒ™",
    text: "Heute machen wir vor dem Schlafengehen eine kleine Traumreise: Wir stellen uns vor, wie unser perfekter Wintertag aussehen wÃ¼rde."
  },
  19: {
    title: "19. Dezember ðŸŽ¥",
    text: "Heute drehen wir ein mini Familien-Video: Jede Person sagt einen Satz, warum sie die anderen lieb hat.",
    // video: "video/tag19_familienvideo.mp4"
  },
  20: {
    title: "20. Dezember ðŸŽ",
    text: "Heute Ã¼berlegen wir gemeinsam: Wem kÃ¶nnten wir in den nÃ¤chsten Tagen eine kleine Freude machen â€“ ganz ohne Geld auszugeben?"
  },
  21: {
    title: "21. Dezember â„ï¸",
    text: "Heute gibt es â€“ wenn mÃ¶glich â€“ einen kleinen Spaziergang: durch den Schnee, durch die Stadt oder einfach nur ums Haus. Danach warten etwas Warmes zu trinken und vielleicht ein Keks.",
    // image: "bilder/tag21_spaziergang.jpg"
  },
  22: {
    title: "22. Dezember ðŸŒŸ",
    text: "Heute erinnern wir uns: Was war bisher dein Lieblingsmoment in diesem Advent? Jeder darf etwas erzÃ¤hlen."
  },
  23: {
    title: "23. Dezember ðŸŽ„",
    text: "Heute bereiten wir etwas fÃ¼r den Heiligabend vor: Deko, Tisch, Musikliste oder ein kleines Programm â€“ du darfst mitplanen.",
    // image: "bilder/tag23_baum.jpg"
  },
  24: {
    title: "24. Dezember â€“ Frohe Weihnachten ðŸŽ",
    text: "Heute ist Weihnachten! Wir sind so froh, dass wir dich haben. Du bist unser grÃ¶ÃŸtes Geschenk. â¤ï¸",
    // optionales Abschlussbild:
    // image: "bilder/tag24_weihnachten.jpg"
  }
};

    };

    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    function isPreviewMode() {
      return getQueryParam("preview") === "1";
    }

    // TÃ¼rchen sind nur bis zum heutigen Tag (im Dezember) geÃ¶ffnet.
    function isDayOpenable(day) {
      if (isPreviewMode()) return true; // Eltern-Vorschau

      const today = new Date();
      if (today.getMonth() !== 11) {
        // nicht Dezember â†’ alles zu
        return false;
      }
      return today.getDate() >= day;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const grid = document.getElementById("calendar-grid");
      const modalBackdrop = document.getElementById("modal-backdrop");
      const closeButton = document.getElementById("close-button");

      const titleEl = document.getElementById("content-title");
      const textEl = document.getElementById("content-text");
      const imgWrapper = document.getElementById("image-wrapper");
      const imgEl = document.getElementById("content-image");
      const audioWrapper = document.getElementById("audio-wrapper");
      const audioEl = document.getElementById("content-audio");
      const videoWrapper = document.getElementById("video-wrapper");
      const videoEl = document.getElementById("content-video");
      const ytWrapper = document.getElementById("youtube-wrapper");
      const ytEl = document.getElementById("content-youtube");

      // TÃ¼ren erzeugen (1â€“24)
      for (let day = 1; day <= 24; day++) {
        const btn = document.createElement("button");
        btn.className = "door";
        btn.textContent = day;

        if (isDayOpenable(day)) {
          btn.classList.add("door-openable");
          btn.addEventListener("click", () => openDoor(day));
        } else {
          btn.classList.add("door-locked");
          btn.disabled = true;
        }

        grid.appendChild(btn);
      }

      function openDoor(day) {
        const data = adventContent[day];
        if (!data) {
          alert("FÃ¼r diesen Tag ist noch kein Inhalt eingetragen.");
          return;
        }

        titleEl.textContent = data.title || `Tag ${day}`;
        textEl.textContent = data.text || "";

        // Medien zurÃ¼cksetzen
        imgWrapper.classList.remove("visible");
        audioWrapper.classList.remove("visible");
        videoWrapper.classList.remove("visible");
        ytWrapper.classList.remove("visible");
        imgEl.src = "";
        audioEl.src = "";
        videoEl.src = "";
        ytEl.src = "";

        if (data.image) {
          imgEl.src = data.image;
          imgEl.alt = data.imageAlt || "";
          imgWrapper.classList.add("visible");
        }
        if (data.audio) {
          audioEl.src = data.audio;
          audioWrapper.classList.add("visible");
        }
        if (data.video) {
          videoEl.src = data.video;
          videoWrapper.classList.add("visible");
        }
        if (data.youtube) {
          try {
            const url = new URL(data.youtube);
            let videoId = url.searchParams.get("v");
            if (!videoId && url.hostname === "youtu.be") {
              videoId = url.pathname.replace("/", "");
            }
            if (!videoId && url.pathname.startsWith("/shorts/")) {
              videoId = url.pathname.split("/")[2];
            }
            if (videoId) {
              ytEl.src = "https://www.youtube.com/embed/" + videoId;
              ytWrapper.classList.add("visible");
            }
          } catch (e) {
            console.warn("UngÃ¼ltige YouTube-URL:", data.youtube);
          }
        }

        modalBackdrop.classList.add("visible");
        modalBackdrop.setAttribute("aria-hidden", "false");
      }

      function closeModal() {
        modalBackdrop.classList.remove("visible");
        modalBackdrop.setAttribute("aria-hidden", "true");
        audioEl.pause();
        videoEl.pause();
        ytEl.src = "";
      }

      closeButton.addEventListener("click", closeModal);
      modalBackdrop.addEventListener("click", (e) => {
        if (e.target === modalBackdrop) {
          closeModal();
        }
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeModal();
        }
      });
    });
  </script>
</body>
</html>

